//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated from a template.
//
//     Manual changes to this file may cause unexpected behavior in your application.
//     Manual changes to this file will be overwritten if the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Ark.ResultCheckers.Data.Services
{
    
    using System;
    using System.Linq;
    using Ark.ResultCheckers.Dtos;
    
    public partial class AppSettingService
    {
        partial void OnCreate(AppSettingDto appSetting, string username)
        {
            if (_context.AppSettings.Any(a => a.Key == appSetting.Key))
            {
                throw new Exception("Record not unique.");
            }
        }
    }
    
    public partial class CardService
    {
        partial void OnCreate(CardDto card, string username)
        {
            if (_context.Cards.Any(a => a.Pin == card.Pin))
            {
                throw new Exception("Record not unique.");
            }
        }
    }
    
    public partial class CourseService
    {
        partial void OnCreate(CourseDto course, string username)
        {
            if (_context.Courses.Any(a => a.Code == course.Code))
            {
                throw new Exception("Record not unique.");
            }
        }
    }
    
    public partial class GradeService
    {
        partial void OnCreate(GradeDto grade, string username)
        {
            if (_context.Grades.Any(a => a.Name == grade.Name))
            {
                throw new Exception("Record not unique.");
            }
        }
    }
    
    public partial class StudentService
    {
        partial void OnCreate(StudentDto student, string username)
        {
            if (_context.Students.Any(a => a.MatricNo == student.MatricNo))
            {
                throw new Exception("Record not unique.");
            }
        }
    }
    
    public partial class StudentCourseService
    {
        partial void OnCreate(StudentCourseDto studentCourse, string username)
        {
            if (_context.StudentCourses.Any(a => a.SessionId == studentCourse.SessionId 
                                                && a.CourseId == studentCourse.CourseId
                                                && a.StudentId == studentCourse.StudentId
                                                ))
            {
                throw new Exception("Record not unique.");
            }
        }
    }
    
}
